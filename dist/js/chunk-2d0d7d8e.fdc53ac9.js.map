{"version":3,"sources":["webpack:///./src/components/Posts/Replies.vue?5e08","webpack:///src/components/Posts/Replies.vue","webpack:///./src/components/Posts/Replies.vue?85d7","webpack:///./src/components/Posts/Replies.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","staticStyle","_v","_s","currentPost","group_id","Name","user_id","User_Category","UserID","_id","First_Name","Last_Name","Email","Message","_l","reply","index","key","class","Role","attrs","on","$event","deleteReply","_e","type","indexOf","_k","keyCode","submitReply","model","value","callback","$$v","replyText","expression","staticRenderFns","name","data","confirm","selectedGroup","created","$store","getters","getCurrentGroup","dispatch","methods","SelectGroup","group","postClicked","console","log","post","commit","$router","push","computed","Replies","getPostReplies","sessionStorage","getItem","getUserData","id","getCurrentPost","component"],"mappings":"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","file":"js/chunk-2d0d7d8e.fdc53ac9.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"fit column wrap justify-start items-start content-start q-gutter-md\"},[_c('div',{staticClass:\"row q-gutter-md\",staticStyle:{\"width\":\"90%\"}},[_c('q-card',{staticClass:\"bg-green-3\",staticStyle:{\"width\":\"100%\"}},[_c('q-card-section',[_c('div',{staticClass:\"text-subtitle5\"},[_vm._v(_vm._s(_vm.currentPost.group_id.Name)+\" \"+_vm._s(_vm.currentPost.user_id.User_Category=='Doctor'?'Dr':''))]),(_vm.UserID!==_vm.currentPost.user_id._id)?_c('div',{staticClass:\"text-subtitle1\"},[_vm._v(_vm._s(_vm.currentPost.user_id.First_Name?_vm.currentPost.user_id.First_Name+\" \"+_vm.currentPost.user_id.Last_Name:_vm.currentPost.user_id.Email))]):_c('div',{staticClass:\"text-subtitle1\"},[_vm._v(\"You\")]),_c('div',{staticClass:\"text-h4\"},[_vm._v(_vm._s(_vm.currentPost.Message))])])],1)],1),_vm._l((_vm.Replies),function(reply,index){return _c('div',{key:index,staticClass:\"row q-gutter-md\",staticStyle:{\"width\":\"50%\"}},[_c('q-card',{class:{'bg-yellow-8':reply.user_id.User_Category=='Doctor'},staticStyle:{\"width\":\"100%\"}},[_c('q-card-section',[(_vm.UserID!==reply.user_id._id)?_c('div',{staticClass:\"text-subtitle1\"},[_vm._v(_vm._s(reply.user_id.First_Name?reply.user_id.First_Name+\" \"+reply.user_id.Last_Name:reply.user_id.Email)+\" replied:\")]):_c('div',{staticClass:\"text-subtitle9\"},[_vm._v(\"You replied:\")]),_c('div',{staticClass:\"text-h6\"},[_vm._v(_vm._s(reply.Message))])]),_c('q-card-actions',{staticClass:\"row justify-center\"},[(_vm.UserID == reply.user_id._id||_vm.Role=='Doctor')?_c('q-btn',{attrs:{\"round\":\"\",\"color\":\"red-10\",\"icon\":\"far fa-trash-alt\",\"title\":\"delete\"},on:{\"click\":function($event){return _vm.deleteReply(reply)}}}):_vm._e()],1)],1)],1)}),_c('div',{staticClass:\"col-3 q-gutter-md\",staticStyle:{\"margin-bottom\":\"20px\"}},[_c('q-card',[_c('q-card-section',[_c('q-input',{attrs:{\"rounded\":\"\",\"outlined\":\"\",\"label\":\"Write Reply\"},on:{\"keyup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.submitReply($event)}},model:{value:(_vm.replyText),callback:function ($$v) {_vm.replyText=$$v},expression:\"replyText\"}})],1),_c('q-card-actions',{staticClass:\"row justify-center\"},[_c('q-btn',{attrs:{\"color\":\"primary\",\"label\":\"Submit\"},on:{\"click\":_vm.submitReply}})],1)],1)],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"fit column wrap justify-start items-start content-start q-gutter-md\">\n      <div class=\"row q-gutter-md\" style=\"width:90%\">\n        <q-card class=\"bg-green-3\" style=\"width:100%\">\n          <q-card-section>\n            <div\n              class=\"text-subtitle5\"\n            >{{currentPost.group_id.Name}} {{currentPost.user_id.User_Category=='Doctor'?'Dr':''}}</div>\n            <div\n              class=\"text-subtitle1\"\n              v-if=\"UserID!==currentPost.user_id._id\"\n            >{{currentPost.user_id.First_Name?currentPost.user_id.First_Name+\" \"+currentPost.user_id.Last_Name:currentPost.user_id.Email}}</div>\n            <div class=\"text-subtitle1\" v-else>You</div>\n            <div class=\"text-h4\">{{ currentPost.Message }}</div>\n            <!-- <div class=\"text-subtitle2\">by John Doe</div> -->\n          </q-card-section>\n        </q-card>\n      </div>\n      <div class=\"row q-gutter-md\" style=\"width:50%\" v-for=\"(reply, index) in Replies\" :key=\"index\">\n        <q-card style=\"width:100%\" :class=\"{'bg-yellow-8':reply.user_id.User_Category=='Doctor'}\">\n          <q-card-section>\n            <!-- <div\n              class=\"text-subtitle5\"\n            >{{group.group_id.Name}} {{group.user_id.User_Category=='Doctor'?'Dr':''}}</div>-->\n            <div\n              class=\"text-subtitle1\"\n              v-if=\"UserID!==reply.user_id._id\"\n            >{{reply.user_id.First_Name?reply.user_id.First_Name+\" \"+reply.user_id.Last_Name:reply.user_id.Email}} replied:</div>\n            <div class=\"text-subtitle9\" v-else>You replied:</div>\n            <div class=\"text-h6\">{{ reply.Message }}</div>\n            <!-- <div class=\"text-subtitle2\">by John Doe</div> -->\n          </q-card-section>\n          <q-card-actions class=\"row justify-center\">\n            <q-btn\n              round\n              color=\"red-10\"\n              icon=\"far fa-trash-alt\"\n              title=\"delete\"\n              v-if=\"UserID == reply.user_id._id||Role=='Doctor'\"\n              @click=\"deleteReply(reply)\"\n            />\n          </q-card-actions>\n        </q-card>\n      </div>\n      <div class=\"col-3 q-gutter-md\" style=\"margin-bottom:20px;\">\n        <q-card>\n          <q-card-section>\n            <q-input\n              rounded\n              outlined\n              v-model=\"replyText\"\n              label=\"Write Reply\"\n              @keyup.enter=\"submitReply\"\n            />\n          </q-card-section>\n          <q-card-actions class=\"row justify-center\">\n            <q-btn color=\"primary\" label=\"Submit\" @click=\"submitReply\" />\n          </q-card-actions>\n        </q-card>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n/* eslint-disable */\n\nimport api from \"../../store/api\";\nexport default {\n  name: \"Replies\",\n  data() {\n    return {\n      confirm: false,\n      selectedGroup: { Name: \"First\" },\n      replyText: null\n    };\n  },\n  created() {\n    var group_id = this.$store.getters.getCurrentGroup._id;\n    this.$store.dispatch(\"fetchGroupPosts\", group_id);\n  },\n  methods: {\n    SelectGroup(group) {\n      this.selectedGroup = group;\n      this.confirm = true;\n    },\n    async DeleteGroup(selectedGroup) {\n      var user_id = this.$store.getters.getUserData.id;\n      await api()\n        .delete(`/groups/deleteGroup/${user_id}`, {\n          Name: selectedGroup.Name\n        })\n        .then(res => {\n          if (res.data.status == \"success\") {\n            this.$q.notify({\n              color: \"teal\",\n              message: \"Group Deleted Successfully\",\n              position: \"top-right\",\n              timeout: 1000\n            });\n            this.confirm = false;\n            this.selectedGroup = {};\n          }\n        })\n        .catch(err => {\n          console.log(err.response);\n          this.$q.notify({\n            color: \"red-10\",\n            message: \"Error Occured , Try Again\",\n            position: \"top-right\",\n            timeout: 1000\n          });\n        });\n    },\n    async submitReply() {\n      var post_id = this.$store.getters.getCurrentPost._id;\n      await api()\n        .post(`/replies/createReply/${post_id}`, {\n          Message: this.replyText\n        })\n        .then(res => {\n          if (res.data.status == \"success\") {\n            this.$q.notify({\n              color: \"teal\",\n              message: \"Reply Created Successfully\",\n              position: \"top-right\",\n              timeout: 1000\n            });\n            this.replyText = null;\n            this.$store.dispatch(\"fetchPostReplies\");\n          }\n        })\n        .catch(() => {\n          this.$q.notify({\n            color: \"red-10\",\n            message: \"Error Occured , Try Again\",\n            position: \"top-right\",\n            timeout: 1000\n          });\n        });\n    },\n    async deleteReply(selectedReply) {\n      var user_id = this.$store.getters.getUserData.id;\n      var reply_id = selectedReply._id;\n      api()\n        .put(`/replies/deleteReply/${user_id}/${reply_id}`)\n        .then(res => {\n          if (res.data.status == \"success\") {\n            this.$q.notify({\n              color: \"teal\",\n              message: \"Reply Deleted Successfully\",\n              position: \"top-right\",\n              timeout: 1000\n            });\n            this.$store.dispatch(\"fetchPostReplies\");\n          }\n        })\n        .catch(err => {\n          console.log(err);\n          this.$q.notify({\n            color: \"red-10\",\n            message: \"Error\",\n            position: \"top-right\",\n            timeout: 1000\n          });\n        });\n    },\n    postClicked(post) {\n      console.log(post);\n      this.$store.commit(\"setCurrentPost\", post);\n      this.$router.push(\"/replies\");\n      this.$store.dispatch(\"fetchPostReplies\");\n    }\n  },\n  computed: {\n    Replies() {\n      return this.$store.getters.getPostReplies;\n    },\n    Role() {\n      return sessionStorage.getItem(\"role\");\n    },\n    UserID() {\n      return this.$store.getters.getUserData.id;\n    },\n    currentPost() {\n      return this.$store.getters.getCurrentPost;\n    }\n  }\n};\n</script>\n\n<style></style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Replies.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Replies.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Replies.vue?vue&type=template&id=86f4c0e6&\"\nimport script from \"./Replies.vue?vue&type=script&lang=js&\"\nexport * from \"./Replies.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}